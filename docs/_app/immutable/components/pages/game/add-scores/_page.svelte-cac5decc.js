import{S as gt,i as vt,s as Et,a as I,w as st,c as L,x as ot,b as D,y as nt,f as Y,d as Tt,t as G,P as $t,h as u,z as rt,o as kt,q as w,r as R,g as Dt,Q as Pt,R as wt,k as b,l as g,m as v,n as P,E as c,u as J,U as Rt}from"../../../../chunks/index-248baa26.js";import{g as Bt}from"../../../../chunks/navigation-c748302a.js";import{B as It}from"../../../../chunks/Button-af951ed6.js";import{C as Lt}from"../../../../chunks/Card-f5fe4af3.js";import{I as Ct}from"../../../../chunks/Input-868e269e.js";import{g as Ht,r as qt,a as K,s as At}from"../../../../chunks/functions-3df06334.js";function dt(s,e,n){const o=s.slice();return o[4]=e[n],o[5]=e,o[6]=n,o}function ht(s,e,n){const o=s.slice();return o[7]=e[n],o[9]=n,o}function mt(s){let e,n,o=s[9]+1+"",i,r,p,t=s[7]+"",a,_,f,T=K(s[4],s[9])+"",q;return{c(){e=b("tr"),n=b("td"),i=w(o),r=I(),p=b("td"),a=w(t),_=I(),f=b("td"),q=w(T),this.h()},l(E){e=g(E,"TR",{});var h=v(e);n=g(h,"TD",{class:!0});var k=v(n);i=R(k,o),k.forEach(u),r=L(h),p=g(h,"TD",{class:!0});var V=v(p);a=R(V,t),V.forEach(u),_=L(h),f=g(h,"TD",{class:!0});var A=v(f);q=R(A,T),A.forEach(u),h.forEach(u),this.h()},h(){P(n,"class","text-center"),P(p,"class","text-center"),P(f,"class","text-center")},m(E,h){D(E,e,h),c(e,n),c(n,i),c(e,r),c(e,p),c(p,a),c(e,_),c(e,f),c(f,q)},p(E,h){h&1&&t!==(t=E[7]+"")&&J(a,t),h&1&&T!==(T=K(E[4],E[9])+"")&&J(q,T)},d(E){E&&u(e)}}}function St(s){let e,n=s[4].name+"",o,i,r,p=K(s[4])+"",t,a,_,f,T,q,E,h,k,V,A,C,j,H,N,X,Z,z,y,x,M,tt,et,O,S;function bt(l){s[3](l,s[4])}let at={type:"number",id:"round-points-"+s[4].name.toLowerCase()+"-"+s[6]};s[4].rounds[s[4].rounds.length-1]!==void 0&&(at.value=s[4].rounds[s[4].rounds.length-1]),k=new Ct({props:at}),Pt.push(()=>wt(k,"value",bt));let Q=s[4].rounds,$=[];for(let l=0;l<Q.length;l+=1)$[l]=mt(ht(s,Q,l));return{c(){e=b("div"),o=w(n),i=I(),r=b("div"),t=w(p),a=I(),_=b("label"),f=w("Round "),T=w(s[1]),q=w(" Points"),E=I(),h=b("div"),st(k.$$.fragment),A=I(),C=b("table"),j=b("thead"),H=b("tr"),N=b("th"),X=w("Round"),Z=I(),z=b("th"),y=w("Points"),x=I(),M=b("th"),tt=w("Total"),et=I(),O=b("tbody");for(let l=0;l<$.length;l+=1)$[l].c();this.h()},l(l){e=g(l,"DIV",{class:!0});var d=v(e);o=R(d,n),d.forEach(u),i=L(l),r=g(l,"DIV",{class:!0});var B=v(r);t=R(B,p),B.forEach(u),a=L(l),_=g(l,"LABEL",{for:!0,class:!0});var m=v(_);f=R(m,"Round "),T=R(m,s[1]),q=R(m," Points"),m.forEach(u),E=L(l),h=g(l,"DIV",{class:!0});var F=v(h);ot(k.$$.fragment,F),F.forEach(u),A=L(l),C=g(l,"TABLE",{class:!0});var W=v(C);j=g(W,"THEAD",{});var ut=v(j);H=g(ut,"TR",{});var U=v(H);N=g(U,"TH",{class:!0});var ft=v(N);X=R(ft,"Round"),ft.forEach(u),Z=L(U),z=g(U,"TH",{class:!0});var ct=v(z);y=R(ct,"Points"),ct.forEach(u),x=L(U),M=g(U,"TH",{class:!0});var it=v(M);tt=R(it,"Total"),it.forEach(u),U.forEach(u),ut.forEach(u),et=L(W),O=g(W,"TBODY",{});var _t=v(O);for(let lt=0;lt<$.length;lt+=1)$[lt].l(_t);_t.forEach(u),W.forEach(u),this.h()},h(){P(e,"class","text-center text-2xl mb-2"),P(r,"class","text-center text-3xl"),P(_,"for","round-points"),P(_,"class","block text-center"),P(h,"class","w-36 mx-auto"),P(N,"class","border-b pb-1"),P(z,"class","border-b pb-1"),P(M,"class","border-b pb-1"),P(C,"class","table-auto w-full mt-4")},m(l,d){D(l,e,d),c(e,o),D(l,i,d),D(l,r,d),c(r,t),D(l,a,d),D(l,_,d),c(_,f),c(_,T),c(_,q),D(l,E,d),D(l,h,d),nt(k,h,null),D(l,A,d),D(l,C,d),c(C,j),c(j,H),c(H,N),c(N,X),c(H,Z),c(H,z),c(z,y),c(H,x),c(H,M),c(M,tt),c(C,et),c(C,O);for(let B=0;B<$.length;B+=1)$[B].m(O,null);S=!0},p(l,d){s=l,(!S||d&1)&&n!==(n=s[4].name+"")&&J(o,n),(!S||d&1)&&p!==(p=K(s[4])+"")&&J(t,p),(!S||d&2)&&J(T,s[1]);const B={};if(d&1&&(B.id="round-points-"+s[4].name.toLowerCase()+"-"+s[6]),!V&&d&1&&(V=!0,B.value=s[4].rounds[s[4].rounds.length-1],Rt(()=>V=!1)),k.$set(B),d&1){Q=s[4].rounds;let m;for(m=0;m<Q.length;m+=1){const F=ht(s,Q,m);$[m]?$[m].p(F,d):($[m]=mt(F),$[m].c(),$[m].m(O,null))}for(;m<$.length;m+=1)$[m].d(1);$.length=Q.length}},i(l){S||(Y(k.$$.fragment,l),S=!0)},o(l){G(k.$$.fragment,l),S=!1},d(l){l&&u(e),l&&u(i),l&&u(r),l&&u(a),l&&u(_),l&&u(E),l&&u(h),rt(k),l&&u(A),l&&u(C),$t($,l)}}}function pt(s){let e,n;return e=new Lt({props:{classList:"mt-4",$$slots:{default:[St]},$$scope:{ctx:s}}}),{c(){st(e.$$.fragment)},l(o){ot(e.$$.fragment,o)},m(o,i){nt(e,o,i),n=!0},p(o,i){const r={};i&1027&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(Y(e.$$.fragment,o),n=!0)},o(o){G(e.$$.fragment,o),n=!1},d(o){rt(e,o)}}}function Vt(s){let e;return{c(){e=w("Done")},l(n){e=R(n,"Done")},m(n,o){D(n,e,o)},d(n){n&&u(e)}}}function Nt(s){let e,n,o,i=s[0],r=[];for(let t=0;t<i.length;t+=1)r[t]=pt(dt(s,i,t));const p=t=>G(r[t],1,1,()=>{r[t]=null});return n=new It({props:{$$slots:{default:[Vt]},$$scope:{ctx:s}}}),n.$on("click",s[2]),{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=I(),st(n.$$.fragment)},l(t){for(let a=0;a<r.length;a+=1)r[a].l(t);e=L(t),ot(n.$$.fragment,t)},m(t,a){for(let _=0;_<r.length;_+=1)r[_].m(t,a);D(t,e,a),nt(n,t,a),o=!0},p(t,[a]){if(a&3){i=t[0];let f;for(f=0;f<i.length;f+=1){const T=dt(t,i,f);r[f]?(r[f].p(T,a),Y(r[f],1)):(r[f]=pt(T),r[f].c(),Y(r[f],1),r[f].m(e.parentNode,e))}for(Dt(),f=i.length;f<r.length;f+=1)p(f);Tt()}const _={};a&1024&&(_.$$scope={dirty:a,ctx:t}),n.$set(_)},i(t){if(!o){for(let a=0;a<i.length;a+=1)Y(r[a]);Y(n.$$.fragment,t),o=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)G(r[a]);G(n.$$.fragment,t),o=!1},d(t){$t(r,t),t&&u(e),rt(n,t)}}}function zt(s,e,n){let o=[],i=0;const r=()=>{At(o),Bt("/game/scores")};kt(()=>{n(0,o=Ht()),o.length?(o.forEach(t=>{t.rounds.push("-")}),n(0,o),n(1,i=o[0].rounds.length)):qt()});function p(t,a){s.$$.not_equal(a.rounds[a.rounds.length-1],t)&&(a.rounds[a.rounds.length-1]=t,n(0,o))}return s.$$.update=()=>{s.$$.dirty&1&&n(0,o=o.map(t=>({name:t.name,score:K(t),rounds:t.rounds})))},[o,i,r,p]}class Ft extends gt{constructor(e){super(),vt(this,e,zt,Nt,Et,{})}}export{Ft as default};
