import{S as ce,i as ge,s as $e,Q as ue,R as ie,w as G,a as v,k as w,q as _,x as J,c as b,l as E,m as S,r as c,h as p,n as B,y as R,b as U,E as l,L as he,T as ve,U as fe,u as se,f as X,t as C,z as Q,o as be}from"../../../../chunks/index-248baa26.js";import{T as ye}from"../../../../chunks/Title-7566ad5c.js";import{I as me}from"../../../../chunks/Input-868e269e.js";import{B as we}from"../../../../chunks/Button-af951ed6.js";import{g as Ee,a as Se,r as Pe,s as Ie}from"../../../../chunks/functions-3df06334.js";import{l as pe}from"../../../../chunks/lodash-b1c1932f.js";import{g as Ae}from"../../../../chunks/navigation-c748302a.js";function Ne(s){let r;return{c(){r=_("Add Player")},l(a){r=c(a,"Add Player")},m(a,t){U(a,r,t)},d(a){a&&p(r)}}}function qe(s){let r;return{c(){r=_("Done")},l(a){r=c(a,"Done")},m(a,t){U(a,r,t)},d(a){a&&p(r)}}}function De(s){let r,a,t,f,P,I,m,o,L,g,M,u,i,j,H,d,A,K,V=JSON.stringify(s[0])+"",O,W,N,Y,z,Z,q,x,F,ee,h,y,te,re;r=new ye({props:{$$slots:{default:[Ne]},$$scope:{ctx:s}}});function de(e){s[5](e)}let le={id:"new-player-name",autocapitalize:"words",required:!0};s[3].name!==void 0&&(le.value=s[3].name),m=new me({props:le}),ue.push(()=>ie(m,"value",de));function _e(e){s[6](e)}let oe={type:"number",id:"new-player-score",required:!0};return s[3].rounds[s[3].rounds.length-1]!==void 0&&(oe.value=s[3].rounds[s[3].rounds.length-1]),i=new me({props:oe}),ue.push(()=>ie(i,"value",_e)),h=new we({props:{classList:"mt-auto",type:"submit",$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){G(r.$$.fragment),a=v(),t=w("form"),f=w("label"),P=_("Player Name"),I=v(),G(m.$$.fragment),L=v(),g=w("label"),M=_("Starting Score"),u=v(),G(i.$$.fragment),H=v(),d=w("div"),A=w("div"),K=_("MIN \u2014 "),O=_(V),W=v(),N=w("div"),Y=_("AVG \u2014 "),z=_(s[2]),Z=v(),q=w("div"),x=_("MAX \u2014 "),F=_(s[1]),ee=v(),G(h.$$.fragment),this.h()},l(e){J(r.$$.fragment,e),a=b(e),t=E(e,"FORM",{});var n=S(t);f=E(n,"LABEL",{for:!0,class:!0});var k=S(f);P=c(k,"Player Name"),k.forEach(p),I=b(n),J(m.$$.fragment,n),L=b(n),g=E(n,"LABEL",{for:!0,class:!0});var T=S(g);M=c(T,"Starting Score"),T.forEach(p),u=b(n),J(i.$$.fragment,n),H=b(n),d=E(n,"DIV",{class:!0});var $=S(d);A=E($,"DIV",{});var D=S(A);K=c(D,"MIN \u2014 "),O=c(D,V),D.forEach(p),W=b($),N=E($,"DIV",{});var ne=S(N);Y=c(ne,"AVG \u2014 "),z=c(ne,s[2]),ne.forEach(p),Z=b($),q=E($,"DIV",{});var ae=S(q);x=c(ae,"MAX \u2014 "),F=c(ae,s[1]),ae.forEach(p),$.forEach(p),ee=b(n),J(h.$$.fragment,n),n.forEach(p),this.h()},h(){B(f,"for","new-player-name"),B(f,"class","block"),B(g,"for","new-player-score"),B(g,"class","block mt-2"),B(d,"class","text-center font-sans text-sm text-gray-500 mt-4")},m(e,n){R(r,e,n),U(e,a,n),U(e,t,n),l(t,f),l(f,P),l(t,I),R(m,t,null),l(t,L),l(t,g),l(g,M),l(t,u),R(i,t,null),l(t,H),l(t,d),l(d,A),l(A,K),l(A,O),l(d,W),l(d,N),l(N,Y),l(N,z),l(d,Z),l(d,q),l(q,x),l(q,F),l(t,ee),R(h,t,null),y=!0,te||(re=he(t,"submit",ve(s[4])),te=!0)},p(e,[n]){const k={};n&512&&(k.$$scope={dirty:n,ctx:e}),r.$set(k);const T={};!o&&n&8&&(o=!0,T.value=e[3].name,fe(()=>o=!1)),m.$set(T);const $={};!j&&n&8&&(j=!0,$.value=e[3].rounds[e[3].rounds.length-1],fe(()=>j=!1)),i.$set($),(!y||n&1)&&V!==(V=JSON.stringify(e[0])+"")&&se(O,V),(!y||n&4)&&se(z,e[2]),(!y||n&2)&&se(F,e[1]);const D={};n&512&&(D.$$scope={dirty:n,ctx:e}),h.$set(D)},i(e){y||(X(r.$$.fragment,e),X(m.$$.fragment,e),X(i.$$.fragment,e),X(h.$$.fragment,e),y=!0)},o(e){C(r.$$.fragment,e),C(m.$$.fragment,e),C(i.$$.fragment,e),C(h.$$.fragment,e),y=!1},d(e){Q(r,e),e&&p(a),e&&p(t),Q(m),Q(i),Q(h),te=!1,re()}}}function Le(s,r,a){let t=[],f=[],P=0,I=0,m=0,o={name:"",rounds:[]};const L=()=>{t.push(o),t=t,Ie(t),Ae("/game/scores")};be(()=>{t=Ee(),t.length?(t.forEach(u=>{let i=Se(u);typeof i=="number"&&f.push(+i)}),a(0,P=pe.exports.min(f)),a(1,I=pe.exports.max(f)),a(2,m=(f.reduce((u,i)=>u+i,0)/f.length).toFixed(1)),a(3,o.rounds=t[0].rounds.map(u=>"-"),o)):Pe()});function g(u){s.$$.not_equal(o.name,u)&&(o.name=u,a(3,o))}function M(u){s.$$.not_equal(o.rounds[o.rounds.length-1],u)&&(o.rounds[o.rounds.length-1]=u,a(3,o))}return[P,I,m,o,L,g,M]}class Fe extends ce{constructor(r){super(),ge(this,r,Le,De,$e,{})}}export{Fe as default};
