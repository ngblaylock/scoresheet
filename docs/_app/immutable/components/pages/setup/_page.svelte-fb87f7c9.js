import{S as K,i as Q,s as X,C as re,k as y,a as D,l as E,m as b,c as M,h as _,n as o,b as P,E as v,L as F,F as ne,G as ae,H as oe,f as x,t as B,V as U,W as Z,Q as Y,R as ee,w as N,x as A,y as G,T as ie,X as ce,d as ue,U as te,z as W,I as fe,o as he,q,r as O,g as de,Y as _e,K as me,u as pe}from"../../../chunks/index-248baa26.js";import{p as ge}from"../../../chunks/stores-a9f6310d.js";import{B as se}from"../../../chunks/Button-af951ed6.js";import{T as $e}from"../../../chunks/Title-7566ad5c.js";import{C as ve}from"../../../chunks/Card-f5fe4af3.js";import{I as ke}from"../../../chunks/Input-868e269e.js";import{g as be,s as z}from"../../../chunks/functions-47976ddd.js";import{g as we}from"../../../chunks/navigation-99ef49ed.js";function ye(n){let t,e;return{c(){t=U("svg"),e=U("rect"),this.h()},l(s){t=Z(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=b(t);e=Z(l,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,"stroke-width":!0}),b(e).forEach(_),l.forEach(_),this.h()},h(){o(e,"x","1"),o(e,"y","1"),o(e,"width","13"),o(e,"height","13"),o(e,"rx","1"),o(e,"stroke","#210201"),o(e,"stroke-width","2"),o(t,"width","20"),o(t,"height","20"),o(t,"viewBox","0 0 15 15"),o(t,"fill","none"),o(t,"xmlns","http://www.w3.org/2000/svg")},m(s,l){P(s,t,l),v(t,e)},d(s){s&&_(t)}}}function Ee(n){let t,e,s;return{c(){t=U("svg"),e=U("rect"),s=U("path"),this.h()},l(l){t=Z(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=b(t);e=Z(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,"stroke-width":!0}),b(e).forEach(_),s=Z(r,"path",{d:!0,fill:!0}),b(s).forEach(_),r.forEach(_),this.h()},h(){o(e,"x","1"),o(e,"y","1"),o(e,"width","13"),o(e,"height","13"),o(e,"rx","1"),o(e,"stroke","#210201"),o(e,"stroke-width","2"),o(s,"d","M7 11.5L6.3415 12.2526C6.56561 12.4487 6.86546 12.5347 7.15944 12.4872C7.45342 12.4397 7.71095 12.2637 7.86193 12.007L7 11.5ZM2.3415 8.75258L6.3415 12.2526L7.6585 10.7474L3.6585 7.24742L2.3415 8.75258ZM7.86193 12.007L12.8619 3.50702L11.1381 2.49298L6.13807 10.993L7.86193 12.007Z"),o(s,"fill","#5E2727"),o(t,"width","20"),o(t,"height","20"),o(t,"viewBox","0 0 15 15"),o(t,"fill","none"),o(t,"xmlns","http://www.w3.org/2000/svg")},m(l,r){P(l,t,r),v(t,e),v(t,s)},d(l){l&&_(t)}}}function Le(n){let t,e,s,l,r,a,d,f,i;function k(m,c){return m[0]?Ee:ye}let S=k(n),g=S(n);const p=n[4].default,$=re(p,n,n[3],null);return{c(){t=y("div"),e=y("input"),s=D(),l=y("label"),g.c(),r=D(),a=y("span"),$&&$.c(),this.h()},l(m){t=E(m,"DIV",{class:!0});var c=b(t);e=E(c,"INPUT",{type:!0,id:!0,class:!0}),s=M(c),l=E(c,"LABEL",{for:!0,class:!0});var I=b(l);g.l(I),r=M(I),a=E(I,"SPAN",{class:!0});var C=b(a);$&&$.l(C),C.forEach(_),I.forEach(_),c.forEach(_),this.h()},h(){o(e,"type","checkbox"),o(e,"id",n[2]),o(e,"class","invisible"),o(a,"class","ml-3"),o(l,"for",n[2]),o(l,"class","text-xl flex items-center justify-center"),o(t,"class",n[1])},m(m,c){P(m,t,c),v(t,e),e.checked=n[0],v(t,s),v(t,l),g.m(l,null),v(l,r),v(l,a),$&&$.m(a,null),d=!0,f||(i=F(e,"change",n[5]),f=!0)},p(m,[c]){c&1&&(e.checked=m[0]),S!==(S=k(m))&&(g.d(1),g=S(m),g&&(g.c(),g.m(l,r))),$&&$.p&&(!d||c&8)&&ne($,p,m,m[3],d?oe(p,m[3],c,null):ae(m[3]),null),(!d||c&2)&&o(t,"class",m[1])},i(m){d||(x($,m),d=!0)},o(m){B($,m),d=!1},d(m){m&&_(t),g.d(),$&&$.d(m),f=!1,i()}}}function Se(n,t,e){let{$$slots:s={},$$scope:l}=t,r="u"+Math.random().toString(26).slice(2),{checked:a=!1}=t,{classList:d=""}=t;function f(){a=this.checked,e(0,a)}return n.$$set=i=>{"checked"in i&&e(0,a=i.checked),"classList"in i&&e(1,d=i.classList),"$$scope"in i&&e(3,l=i.$$scope)},[a,d,r,l,s,f]}class Ie extends K{constructor(t){super(),Q(this,t,Se,Le,X,{checked:0,classList:1})}}function j(n,t,e){const s=n.slice();return s[13]=t[e],s[15]=e,s}function Pe(n){let t;return{c(){t=q("Players")},l(e){t=O(e,"Players")},m(e,s){P(e,t,s)},d(e){e&&_(t)}}}function xe(n){let t,e,s=n[13].name+"",l,r,a,d,f,i,k;function S(){return n[8](n[15])}return{c(){t=y("div"),e=y("div"),l=q(s),r=D(),a=y("button"),d=y("img"),this.h()},l(g){t=E(g,"DIV",{class:!0});var p=b(t);e=E(p,"DIV",{class:!0});var $=b(e);l=O($,s),$.forEach(_),r=M(p),a=E(p,"BUTTON",{class:!0});var m=b(a);d=E(m,"IMG",{src:!0,alt:!0}),m.forEach(_),p.forEach(_),this.h()},h(){o(e,"class","mx-2"),me(d.src,f="/icons/close.svg")||o(d,"src",f),o(d,"alt","remove player icon"),o(a,"class","ml-auto"),o(t,"class","flex")},m(g,p){P(g,t,p),v(t,e),v(e,l),v(t,r),v(t,a),v(a,d),i||(k=F(a,"click",S),i=!0)},p(g,p){n=g,p&1&&s!==(s=n[13].name+"")&&pe(l,s)},d(g){g&&_(t),i=!1,k()}}}function H(n,t){let e,s,l;return s=new ve({props:{classList:"mb-1",$$slots:{default:[xe]},$$scope:{ctx:t}}}),{key:n,first:null,c(){e=y("div"),N(s.$$.fragment),this.h()},l(r){e=E(r,"DIV",{});var a=b(e);A(s.$$.fragment,a),a.forEach(_),this.h()},h(){this.first=e},m(r,a){P(r,e,a),G(s,e,null),l=!0},p(r,a){t=r;const d={};a&65537&&(d.$$scope={dirty:a,ctx:t}),s.$set(d)},i(r){l||(x(s.$$.fragment,r),l=!0)},o(r){B(s.$$.fragment,r),l=!1},d(r){r&&_(e),W(s)}}}function Be(n){let t;return{c(){t=q("Add")},l(e){t=O(e,"Add")},m(e,s){P(e,t,s)},d(e){e&&_(t)}}}function Ce(n){let t,e,s;return e=new se({props:{disabled:n[3],type:"submit",classList:"rounded-none px-4",variant:"dark",inline:!0,$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){t=y("span"),N(e.$$.fragment),this.h()},l(l){t=E(l,"SPAN",{slot:!0});var r=b(t);A(e.$$.fragment,r),r.forEach(_),this.h()},h(){o(t,"slot","append")},m(l,r){P(l,t,r),G(e,t,null),s=!0},p(l,r){const a={};r&8&&(a.disabled=l[3]),r&65536&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){s||(x(e.$$.fragment,l),s=!0)},o(l){B(e.$$.fragment,l),s=!1},d(l){l&&_(t),W(e)}}}function J(n){let t,e;return{c(){t=y("div"),e=q("The name entered already exists."),this.h()},l(s){t=E(s,"DIV",{class:!0});var l=b(t);e=O(l,"The name entered already exists."),l.forEach(_),this.h()},h(){o(t,"class","text-red-500 text-center")},m(s,l){P(s,t,l),v(t,e)},d(s){s&&_(t)}}}function Ve(n){let t;return{c(){t=q("Start Game")},l(e){t=O(e,"Start Game")},m(e,s){P(e,t,s)},d(e){e&&_(t)}}}function De(n){let t;return{c(){t=q("Lowest Score Wins")},l(e){t=O(e,"Lowest Score Wins")},m(e,s){P(e,t,s)},d(e){e&&_(t)}}}function Me(n){let t,e,s,l,r;function a(f){n[10](f)}let d={classList:"mb-3",$$slots:{default:[De]},$$scope:{ctx:n}};return n[2]!==void 0&&(d.checked=n[2]),s=new Ie({props:d}),Y.push(()=>ee(s,"checked",a)),{c(){t=y("span"),e=y("div"),N(s.$$.fragment),this.h()},l(f){t=E(f,"SPAN",{slot:!0});var i=b(t);e=E(i,"DIV",{});var k=b(e);A(s.$$.fragment,k),k.forEach(_),i.forEach(_),this.h()},h(){o(t,"slot","prepend")},m(f,i){P(f,t,i),v(t,e),G(s,e,null),r=!0},p(f,i){const k={};i&65536&&(k.$$scope={dirty:i,ctx:f}),!l&&i&4&&(l=!0,k.checked=f[2],te(()=>l=!1)),s.$set(k)},i(f){r||(x(s.$$.fragment,f),r=!0)},o(f){B(s.$$.fragment,f),r=!1},d(f){f&&_(t),W(s)}}}function Te(n){let t,e,s,l,r=[],a=new Map,d,f,i,k,S,g,p,$,m,c;e=new $e({props:{$$slots:{default:[Pe]},$$scope:{ctx:n}}});let I=n[0];const C=u=>u[13];for(let u=0;u<I.length;u+=1){let h=j(n,I,u),w=C(h);a.set(w,r[u]=H(w,h))}function le(u){n[9](u)}let R={id:"new-player-name",autocapitalize:"words",$$slots:{append:[Ce]},$$scope:{ctx:n}};n[1]!==void 0&&(R.value=n[1]),i=new ke({props:R}),Y.push(()=>ee(i,"value",le));let L=n[3]&&J();return p=new se({props:{disabled:n[4],$$slots:{prepend:[Me],default:[Ve]},$$scope:{ctx:n}}}),p.$on("click",n[7]),{c(){t=y("div"),N(e.$$.fragment),s=D(),l=y("div");for(let u=0;u<r.length;u+=1)r[u].c();d=D(),f=y("form"),N(i.$$.fragment),S=D(),L&&L.c(),g=D(),N(p.$$.fragment),this.h()},l(u){t=E(u,"DIV",{class:!0});var h=b(t);A(e.$$.fragment,h),s=M(h),l=E(h,"DIV",{});var w=b(l);for(let V=0;V<r.length;V+=1)r[V].l(w);d=M(w),f=E(w,"FORM",{});var T=b(f);A(i.$$.fragment,T),T.forEach(_),S=M(w),L&&L.l(w),w.forEach(_),g=M(h),A(p.$$.fragment,h),h.forEach(_),this.h()},h(){o(t,"class","w-full max-w-lg mx-auto px-4 h-full flex flex-col mt-6")},m(u,h){P(u,t,h),G(e,t,null),v(t,s),v(t,l);for(let w=0;w<r.length;w+=1)r[w].m(l,null);v(l,d),v(l,f),G(i,f,null),v(l,S),L&&L.m(l,null),v(t,g),G(p,t,null),$=!0,m||(c=F(f,"submit",ie(n[5])),m=!0)},p(u,[h]){const w={};h&65536&&(w.$$scope={dirty:h,ctx:u}),e.$set(w),h&65&&(I=u[0],de(),r=ce(r,h,C,1,u,I,a,l,_e,H,d,j),ue());const T={};h&65544&&(T.$$scope={dirty:h,ctx:u}),!k&&h&2&&(k=!0,T.value=u[1],te(()=>k=!1)),i.$set(T),u[3]?L||(L=J(),L.c(),L.m(l,null)):L&&(L.d(1),L=null);const V={};h&16&&(V.disabled=u[4]),h&65540&&(V.$$scope={dirty:h,ctx:u}),p.$set(V)},i(u){if(!$){x(e.$$.fragment,u);for(let h=0;h<I.length;h+=1)x(r[h]);x(i.$$.fragment,u),x(p.$$.fragment,u),$=!0}},o(u){B(e.$$.fragment,u);for(let h=0;h<r.length;h+=1)B(r[h]);B(i.$$.fragment,u),B(p.$$.fragment,u),$=!1},d(u){u&&_(t),W(e);for(let h=0;h<r.length;h+=1)r[h].d();W(i),L&&L.d(),W(p),m=!1,c()}}}function Ne(n,t,e){let s,l;fe(n,ge,c=>e(11,l=c));let r=[],a="",d=!0,f=!1;const i=()=>{var c;(c=document.getElementById("new-player-name"))==null||c.focus()},k=()=>{if(a){r.push({name:a,rounds:[]}),e(0,r);let c=document.querySelector("#new-player-name");c.value="",e(1,a=""),z(r),i()}},S=c=>{e(0,r=r.filter((I,C)=>C!==c)),z(r)},g=()=>{k(),we("/game/add-scores/",{replaceState:!0})};he(()=>{if(i(),l.url.searchParams.get("restart")){let c=be();c.forEach(I=>{I.rounds=[]}),e(0,r=c),z(r)}else z([])});const p=c=>S(c);function $(c){a=c,e(1,a)}function m(c){d=c,e(2,d)}return n.$$.update=()=>{n.$$.dirty&4&&typeof localStorage<"u"&&localStorage.setItem("lowestScoreWins",JSON.stringify(d)),n.$$.dirty&3&&(r.filter(c=>c.name.toLowerCase()===a.toLowerCase()).length>0?e(3,f=!0):e(3,f=!1)),n.$$.dirty&1&&e(4,s=!r.length)},[r,a,d,f,s,k,S,g,p,$,m]}class Fe extends K{constructor(t){super(),Q(this,t,Ne,Te,X,{})}}export{Fe as default};
