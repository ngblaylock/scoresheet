import{S as K,i as X,s as Y,C as le,k,a as A,l as w,m as I,c as C,h as m,n as $,b as L,D as v,J,E as ae,F as ne,G as re,f as D,t as M,I as R,O as Z,P as x,w as V,x as q,y as B,Q as oe,T as ce,d as ie,R as ee,z as O,H as ue,o as fe,q as W,r as U,g as de,U as he,u as me}from"../../../chunks/index-baa1f9fa.js";import{p as _e}from"../../../chunks/stores-4fa47353.js";import{B as te}from"../../../chunks/Button-55e0cbf6.js";import{T as pe}from"../../../chunks/Title-e84c0ab3.js";import{C as ge}from"../../../chunks/Card-6cf664a9.js";import{I as $e}from"../../../chunks/Input-c15af6c4.js";import{g as be,s as F}from"../../../chunks/functions-91c7a444.js";import{g as ve}from"../../../chunks/navigation-ecec0b20.js";function ke(n){let e,t;return{c(){e=k("img"),this.h()},l(s){e=w(s,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){R(e.src,t="/icons/square.svg")||$(e,"src",t),$(e,"class","w-4"),$(e,"alt","")},m(s,l){L(s,e,l)},d(s){s&&m(e)}}}function we(n){let e,t;return{c(){e=k("img"),this.h()},l(s){e=w(s,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){R(e.src,t="/icons/checkbox.svg")||$(e,"src",t),$(e,"class","w-4"),$(e,"alt","")},m(s,l){L(s,e,l)},d(s){s&&m(e)}}}function ye(n){let e,t,s,l,a,r,d,u,o;function b(h,c){return h[0]?we:ke}let S=b(n),p=S(n);const _=n[4].default,g=le(_,n,n[3],null);return{c(){e=k("div"),t=k("input"),s=A(),l=k("label"),p.c(),a=A(),r=k("span"),g&&g.c(),this.h()},l(h){e=w(h,"DIV",{class:!0});var c=I(e);t=w(c,"INPUT",{type:!0,id:!0,class:!0}),s=C(c),l=w(c,"LABEL",{for:!0,class:!0});var P=I(l);p.l(P),a=C(P),r=w(P,"SPAN",{class:!0});var N=I(r);g&&g.l(N),N.forEach(m),P.forEach(m),c.forEach(m),this.h()},h(){$(t,"type","checkbox"),$(t,"id",n[2]),$(t,"class","invisible"),$(r,"class","ml-3"),$(l,"for",n[2]),$(l,"class","text-xl flex items-center justify-center"),$(e,"class",n[1])},m(h,c){L(h,e,c),v(e,t),t.checked=n[0],v(e,s),v(e,l),p.m(l,null),v(l,a),v(l,r),g&&g.m(r,null),d=!0,u||(o=J(t,"change",n[5]),u=!0)},p(h,[c]){c&1&&(t.checked=h[0]),S!==(S=b(h))&&(p.d(1),p=S(h),p&&(p.c(),p.m(l,a))),g&&g.p&&(!d||c&8)&&ae(g,_,h,h[3],d?re(_,h[3],c,null):ne(h[3]),null),(!d||c&2)&&$(e,"class",h[1])},i(h){d||(D(g,h),d=!0)},o(h){M(g,h),d=!1},d(h){h&&m(e),p.d(),g&&g.d(h),u=!1,o()}}}function Ee(n,e,t){let{$$slots:s={},$$scope:l}=e,a="u"+Math.random().toString(26).slice(2),{checked:r=!1}=e,{classList:d=""}=e;function u(){r=this.checked,t(0,r)}return n.$$set=o=>{"checked"in o&&t(0,r=o.checked),"classList"in o&&t(1,d=o.classList),"$$scope"in o&&t(3,l=o.$$scope)},[r,d,a,l,s,u]}class Ie extends K{constructor(e){super(),X(this,e,Ee,ye,Y,{checked:0,classList:1})}}function z(n,e,t){const s=n.slice();return s[13]=e[t],s[15]=t,s}function Se(n){let e;return{c(){e=W("Players")},l(t){e=U(t,"Players")},m(t,s){L(t,e,s)},d(t){t&&m(e)}}}function Pe(n){let e,t,s=n[13].name+"",l,a,r,d,u,o,b;function S(){return n[8](n[15])}return{c(){e=k("div"),t=k("div"),l=W(s),a=A(),r=k("button"),d=k("img"),this.h()},l(p){e=w(p,"DIV",{class:!0});var _=I(e);t=w(_,"DIV",{class:!0});var g=I(t);l=U(g,s),g.forEach(m),a=C(_),r=w(_,"BUTTON",{class:!0});var h=I(r);d=w(h,"IMG",{src:!0,alt:!0}),h.forEach(m),_.forEach(m),this.h()},h(){$(t,"class","mx-2"),R(d.src,u="/icons/close.svg")||$(d,"src",u),$(d,"alt","remove player icon"),$(r,"class","ml-auto"),$(e,"class","flex")},m(p,_){L(p,e,_),v(e,t),v(t,l),v(e,a),v(e,r),v(r,d),o||(b=J(r,"click",S),o=!0)},p(p,_){n=p,_&1&&s!==(s=n[13].name+"")&&me(l,s)},d(p){p&&m(e),o=!1,b()}}}function H(n,e){let t,s,l;return s=new ge({props:{classList:"mb-1",$$slots:{default:[Pe]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=k("div"),V(s.$$.fragment),this.h()},l(a){t=w(a,"DIV",{});var r=I(t);q(s.$$.fragment,r),r.forEach(m),this.h()},h(){this.first=t},m(a,r){L(a,t,r),B(s,t,null),l=!0},p(a,r){e=a;const d={};r&65537&&(d.$$scope={dirty:r,ctx:e}),s.$set(d)},i(a){l||(D(s.$$.fragment,a),l=!0)},o(a){M(s.$$.fragment,a),l=!1},d(a){a&&m(t),O(s)}}}function Le(n){let e;return{c(){e=W("Add")},l(t){e=U(t,"Add")},m(t,s){L(t,e,s)},d(t){t&&m(e)}}}function De(n){let e,t,s;return t=new te({props:{disabled:n[3],type:"submit",classList:"rounded-none px-4",variant:"dark",inline:!0,$$slots:{default:[Le]},$$scope:{ctx:n}}}),{c(){e=k("span"),V(t.$$.fragment),this.h()},l(l){e=w(l,"SPAN",{slot:!0});var a=I(e);q(t.$$.fragment,a),a.forEach(m),this.h()},h(){$(e,"slot","append")},m(l,a){L(l,e,a),B(t,e,null),s=!0},p(l,a){const r={};a&8&&(r.disabled=l[3]),a&65536&&(r.$$scope={dirty:a,ctx:l}),t.$set(r)},i(l){s||(D(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){l&&m(e),O(t)}}}function Q(n){let e,t;return{c(){e=k("div"),t=W("The name entered already exists."),this.h()},l(s){e=w(s,"DIV",{class:!0});var l=I(e);t=U(l,"The name entered already exists."),l.forEach(m),this.h()},h(){$(e,"class","text-red-500 text-center")},m(s,l){L(s,e,l),v(e,t)},d(s){s&&m(e)}}}function Me(n){let e;return{c(){e=W("Start Game")},l(t){e=U(t,"Start Game")},m(t,s){L(t,e,s)},d(t){t&&m(e)}}}function Ne(n){let e;return{c(){e=W("Lowest Score Wins")},l(t){e=U(t,"Lowest Score Wins")},m(t,s){L(t,e,s)},d(t){t&&m(e)}}}function Te(n){let e,t,s,l,a;function r(u){n[10](u)}let d={classList:"mb-3",$$slots:{default:[Ne]},$$scope:{ctx:n}};return n[2]!==void 0&&(d.checked=n[2]),s=new Ie({props:d}),Z.push(()=>x(s,"checked",r)),{c(){e=k("span"),t=k("div"),V(s.$$.fragment),this.h()},l(u){e=w(u,"SPAN",{slot:!0});var o=I(e);t=w(o,"DIV",{});var b=I(t);q(s.$$.fragment,b),b.forEach(m),o.forEach(m),this.h()},h(){$(e,"slot","prepend")},m(u,o){L(u,e,o),v(e,t),B(s,t,null),a=!0},p(u,o){const b={};o&65536&&(b.$$scope={dirty:o,ctx:u}),!l&&o&4&&(l=!0,b.checked=u[2],ee(()=>l=!1)),s.$set(b)},i(u){a||(D(s.$$.fragment,u),a=!0)},o(u){M(s.$$.fragment,u),a=!1},d(u){u&&m(e),O(s)}}}function Ae(n){let e,t,s,l,a=[],r=new Map,d,u,o,b,S,p,_,g,h,c;t=new pe({props:{$$slots:{default:[Se]},$$scope:{ctx:n}}});let P=n[0];const N=i=>i[13];for(let i=0;i<P.length;i+=1){let f=z(n,P,i),y=N(f);r.set(y,a[i]=H(y,f))}function se(i){n[9](i)}let j={id:"new-player-name",$$slots:{append:[De]},$$scope:{ctx:n}};n[1]!==void 0&&(j.value=n[1]),o=new $e({props:j}),Z.push(()=>x(o,"value",se));let E=n[3]&&Q();return _=new te({props:{disabled:n[4],$$slots:{prepend:[Te],default:[Me]},$$scope:{ctx:n}}}),_.$on("click",n[7]),{c(){e=k("main"),V(t.$$.fragment),s=A(),l=k("div");for(let i=0;i<a.length;i+=1)a[i].c();d=A(),u=k("form"),V(o.$$.fragment),S=A(),E&&E.c(),p=A(),V(_.$$.fragment),this.h()},l(i){e=w(i,"MAIN",{class:!0});var f=I(e);q(t.$$.fragment,f),s=C(f),l=w(f,"DIV",{});var y=I(l);for(let T=0;T<a.length;T+=1)a[T].l(y);d=C(y),u=w(y,"FORM",{});var G=I(u);q(o.$$.fragment,G),G.forEach(m),S=C(y),E&&E.l(y),y.forEach(m),p=C(f),q(_.$$.fragment,f),f.forEach(m),this.h()},h(){$(e,"class","w-full max-w-lg mx-auto px-4 h-full flex flex-col mt-6")},m(i,f){L(i,e,f),B(t,e,null),v(e,s),v(e,l);for(let y=0;y<a.length;y+=1)a[y].m(l,null);v(l,d),v(l,u),B(o,u,null),v(l,S),E&&E.m(l,null),v(e,p),B(_,e,null),g=!0,h||(c=J(u,"submit",oe(n[5])),h=!0)},p(i,[f]){const y={};f&65536&&(y.$$scope={dirty:f,ctx:i}),t.$set(y),f&65&&(P=i[0],de(),a=ce(a,f,N,1,i,P,r,l,he,H,d,z),ie());const G={};f&65544&&(G.$$scope={dirty:f,ctx:i}),!b&&f&2&&(b=!0,G.value=i[1],ee(()=>b=!1)),o.$set(G),i[3]?E||(E=Q(),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const T={};f&16&&(T.disabled=i[4]),f&65540&&(T.$$scope={dirty:f,ctx:i}),_.$set(T)},i(i){if(!g){D(t.$$.fragment,i);for(let f=0;f<P.length;f+=1)D(a[f]);D(o.$$.fragment,i),D(_.$$.fragment,i),g=!0}},o(i){M(t.$$.fragment,i);for(let f=0;f<a.length;f+=1)M(a[f]);M(o.$$.fragment,i),M(_.$$.fragment,i),g=!1},d(i){i&&m(e),O(t);for(let f=0;f<a.length;f+=1)a[f].d();O(o),E&&E.d(),O(_),h=!1,c()}}}function Ce(n,e,t){let s,l;ue(n,_e,c=>t(11,l=c));let a=[],r="",d=!0,u=!1;const o=()=>{var c;(c=document.getElementById("new-player-name"))==null||c.focus()},b=()=>{if(r){a.push({name:r,rounds:[]}),t(0,a);let c=document.querySelector("#new-player-name");c.value="",t(1,r=""),F(a),o()}},S=c=>{t(0,a=a.filter((P,N)=>N!==c)),F(a)},p=()=>{b(),ve("/game/add-scores/",{replaceState:!0})};fe(()=>{if(o(),l.url.searchParams.get("restart")){let c=be();c.forEach(P=>{P.rounds=[]}),t(0,a=c),F(a)}else F([])});const _=c=>S(c);function g(c){r=c,t(1,r)}function h(c){d=c,t(2,d)}return n.$$.update=()=>{n.$$.dirty&4&&typeof localStorage<"u"&&localStorage.setItem("lowestScoreWins",JSON.stringify(d)),n.$$.dirty&3&&(a.filter(c=>c.name.toLowerCase()===r.toLowerCase()).length>0?t(3,u=!0):t(3,u=!1)),n.$$.dirty&1&&t(4,s=!a.length)},[a,r,d,u,s,b,S,p,_,g,h]}class Je extends K{constructor(e){super(),X(this,e,Ce,Ae,Y,{})}}export{Je as default};
